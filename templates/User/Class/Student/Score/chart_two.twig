<h3 class="ui top attached header">
    Mon suivi
</h3>
<div class="row score-chart-padding">
    <strong class="">Evolution de votre chance d'atteindre votre objectif</strong>
</div>
<div style="width: 100%" class="ui grid">
    <div class="eleven wide column">
        <div id="chart_two" class="row">
            <canvas id="evolution_chart"></canvas>
        </div>
    </div>
    <div class="five wide column">
        <strong>Légende</strong>
        <br>
        <svg width="25" height="4">
            <rect width="300" height="100" style="fill:rgb(3,155,229);" />
        </svg>
        &nbsp; Mon Score

        <div id='chart-two-tools' class="row">
            Afficher: <br>
            <br>
            <div class="ui checkbox">
                <input type="checkbox">
                <label>Score moyen de ceux qui ont le même objectif que vous dans votre promotion</label>
            </div>
            <br> <br>
            <div class="ui checkbox">
                <input type="checkbox">
                <label>Ecarts-types</label>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="ui container">
        <div class="slides">
            <i id='left-arrow' class="big left angle icon"></i>
            <i id='right-arrow' class="big right angle icon"></i>
            <div class="inverted salmon faded slide active">
                <h1>Conseil 1/3</h1>
                <p>
                    Aller consulter plus de ressources du cours peut vous aider à ne pas prendre de retard dans vos révisions.
                    Suivez ce conseil pour augmenter votre score.
                </p>
                <button class="ui right floated basic button">
                    <i class="check icon"></i>Suivre
                </button>
            </div>
            <div class="inverted salmon faded slide">
                <h1>Conseil 2/3</h1>
                <p>
                    Posez une question sur le forum si vous ne comprenez pas une partie du cours. Toute votre promotion bénéficiera de la réponse.
                    Suivez ce conseil pour augmenter votre score.
                </p>
                <button class="ui right floated basic button">
                    <i class="check icon"></i>Suivre
                </button>
            </div>
            <div class="inverted salmon faded slide">
                <h1>Conseil 3/3</h1>
                <p>
                    Consulter le cours à intervalle régulier (exemple : tous les mardis) vous permet de ne pas rater une nouvelle ressource déposée par l'enseignant et d'être plus organisé.
                    Suivez ce conseil pour augmenter votre score.
                </p>

                <button class="ui right floated basic button">
                    <i class="check icon"></i>Suivre
                </button>
            </div>
        </div>

    </div>
</div>
<div class="row">
    <p align="left"><strong>Contact</strong></p>
    <div class="ui five column grid">
        <div class="row">
            <div class="centered column">
                <button class="ui huge circular icon button score-action">
                    <i class="large question icon"></i>
                </button>
                <br>
                <span class="score-action">Demander de l'aide</span>
            </div>
            <div class="centered column">
                <button class="ui huge circular icon button score-action">
                    <i class="large paper plane icon"></i>
                </button>
                <br>
                <span class="score-action">Envoyer ce dashboard</span>
            </div>
            <div class="centered column">
                <button class="ui huge circular icon button score-action">
                    <i class="large tasks icon"></i>
                </button>
                <br>
                <span class="score-action">Suivi de l'aide</span>
            </div>
        </div>
    </div>
</div>


{% block javascripts %}
<script>
$(document).ready ( () => {
    let graph = $("#evolution_chart");

    new Chart(graph, {
        type: 'line',
        data: {
            labels: ['Semaine 1', 'Semaine 2', 'Semaine 3', 'Semaine 4', 'Semaine 5'],
            datasets: [{
                label: 'Mon score',
                borderColor: '#039be5',
                data: [20, 43.25, 38.9, 58.43, 61.23],
                fill: false
            }]
        },
        options: {
            legend: {
                display: false
            },
            elements: {
                line: {
                    tension: 0
                }
            },
            scales: {
                yAxes: [{
                    display: true,
                    ticks: {
                        max: 100,
                        beginAtZero: true,
                        callback: function(value, index, values) {
                            return value + '%';
                        }
                    },
                }]
            },
            tooltips: {
                callbacks: {
                    label: function(tooltipItem, data) {
                        let dataset = data.datasets[tooltipItem.datasetIndex];
                        let currentValue = dataset.data[tooltipItem.index];
                        return ' ' + currentValue + '%';
                    },
                    title: function(tooltipItem, data) {
                        return data.labels[tooltipItem[0].index];
                    }
                }
            },
        }
    });


    // Slider

    $('#right-arrow')
        .on('click', function() {
            $('.slide')
                .siblings('.active:not(:last-of-type)')
                .removeClass('active')
                .next()
                .addClass('active');
        });

    $('#left-arrow')
        .on('click', function() {
            $('.slide')
                .siblings('.active:not(:first-of-type)')
                .removeClass('active')
                .prev()
                .addClass('active');
        });




})
</script>
{% endblock %}
